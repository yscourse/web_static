(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{468:function(e,t,n){},469:function(e,t,n){},531:function(e,t,n){"use strict";var r=n(468);n.n(r).a},532:function(e,t,n){"use strict";var r=n(469);n.n(r).a},536:function(e,t,n){"use strict";n.r(t);var r=[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"card-header"},[t("p",{staticClass:"card-header-title"},[this._v("Lessons")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"is-active"},[t("a",{attrs:{href:"#","aria-current":"page"}},[this._v("Lesson")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"icon is-small"},[t("img",{staticStyle:{height:"70%"},attrs:{src:n(441)}})])}],c=(n(35),n(41),n(33),n(112),n(63),n(64),n(47),n(113),n(34),n(24)),o=(n(36),n(5)),l=n(29),d={name:"PDFJSViewer",props:{pdffile:{type:String,default:function(){return""}}},data:function(){return{getFilePath:"/pdfjs-2.5.207-dist/web/viewer.html?file="}},created:function(){this.getFilePath="/pdfjs-2.5.207-dist/web/viewer.html?file="+this.pdffile},watch:{pdffile:function(e,t){this.getFilePath="/pdfjs-2.5.207-dist/web/viewer.html?file="+e}}},h=(n(531),n(46));function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var m={name:"lessonPage",components:{PDFJSViewer:Object(h.a)(d,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("iframe",{attrs:{height:"100%",width:"100%",src:""+this.getFilePath}})])}),[],!1,null,"ddee72ea",null).exports},middleware:"authenticated",watch:{"$route.query":"$fetch"},fetch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.courseId=parseInt(e.$route.params.courseid,10),e.chapterId=parseInt(e.$route.query.cid,10),e.lessonId=parseInt(e.$route.query.lid,10),e.courses[e.courseId]){t.next=6;break}return t.next=6,e.getCourseAction(e.courseId);case 6:return n=e.courses[e.courseId].content.chapters[e.chapterId].lessonList[e.lessonId].content,e.courseFileCategories=[],n.files&&n.files.length>0&&e.courseFileCategories.push({title:"Files",fileList:n.files}),n.excelFiles&&n.excelFiles.length>0&&e.courseFileCategories.push({title:"Excel Files",fileList:n.excelFiles}),n.referenceFiles&&n.referenceFiles.length>0&&e.courseFileCategories.push({title:"Reference Guide",fileList:n.referenceFiles}),t.next=13,e.trackVisitorAction({path:e.$route.fullPath});case 13:case"end":return t.stop()}}),t)})))()},data:function(){return{isOpen:0,courseId:null,chapterId:null,lessonId:null,nextLessonButtonVisible:!0,courseFileCategories:[]}},computed:v(v({},Object(l.d)(["courses","userInfo"])),{},{videoSource:function(){return this.userInfo.country&&this.userInfo.country.includes("china")?(console.log("China is the best!"),"https://yscourse.cdn.shfangke.com"+this.courses[this.courseId].content.chapters[this.chapterId].lessonList[this.lessonId].content.video.local):this.courses[this.courseId].content.chapters[this.chapterId].lessonList[this.lessonId].content.video.global}}),methods:v(v({},Object(l.b)(["getCourseAction","trackVisitorAction"])),{},{nextLessonHandler:function(){this.lessonId<this.courses[this.courseId].content.chapters[this.chapterId].lessonList.length-1?this.$router.push({path:"/course/".concat(this.courseId,"/lesson/wso"),query:{cid:this.chapterId,lid:this.lessonId+1}}):this.chapterId<this.courses[this.courseId].content.chapters.length-1?this.$router.push({path:"/course/".concat(this.courseId,"/lesson/wso"),query:{cid:this.chapterId+1,lid:0}}):this.chapterId==this.courses[this.courseId].content.chapters.length-1&&this.lessonId==this.courses[this.courseId].content.chapters[this.chapterId].lessonList.length-1&&(this.nextLessonButtonVisible=!1)},gotoLessonHandler:function(e,t){this.$router.push({path:"/course/".concat(this.courseId,"/lesson/wso"),query:{cid:e,lid:t}})}})},I=(n(532),Object(h.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("div",{staticClass:"container mt-4 mb-2 is-unselectable"},[n("div",{staticClass:"columns is-tablet"},[n("div",{staticClass:"column is-one-quarter-tablet is-full-mobile"},[n("div",{staticClass:"block",staticStyle:{position:"sticky",top:"0"}},e._l(e.courseFileCategories,(function(t,r){return n("b-collapse",{key:r,staticClass:"card",attrs:{animation:"slide",open:e.isOpen==r},on:{open:function(t){e.isOpen=r}},scopedSlots:e._u([{key:"trigger",fn:function(r){return n("div",{staticClass:"card-header",attrs:{role:"button"}},[n("p",{staticClass:"card-header-title"},[e._v("\n                "+e._s(t.title)+"\n              ")]),e._v(" "),n("a",{staticClass:"card-header-icon"},[n("b-icon",{attrs:{icon:r.open?"menu-down":"menu-up"}})],1)])}}],null,!0)},[e._v(" "),n("div",{staticClass:"card-content pt-2 pb-2 pr-3"},[n("div",{staticClass:"content"},e._l(t.fileList,(function(r,c){return n("a",{key:c,attrs:{href:r.url,target:"_blank"}},[n("div",{staticClass:"file-box"},[n("div",{staticClass:"icon-box"},[n("b-icon",{attrs:{icon:"download",size:"is-small"}})],1),e._v(" "),n("div",{staticClass:"file-title"},[e._v(e._s(r.name))])]),e._v(" "),n("hr",{directives:[{name:"show",rawName:"v-show",value:c!=t.fileList.length-1,expression:"index != courseFileCategory.fileList.length - 1"}],staticClass:"ml-2 mr-2 mt-2 mb-2 file-hr"})])})),0)])])})),1),e._v(" "),n("div",{staticClass:"block",staticStyle:{position:"sticky",top:"0"}},[n("div",{staticClass:"card mt-3 round-card"},[e._m(0),e._v(" "),n("div",{staticClass:"card-content pt-2 pb-2 pl-0 pr-1"},[n("div",{staticClass:"content lesson-list-box"},e._l(e.courses[e.courseId].content.chapters[e.chapterId].lessonList,(function(t,r){return n("a",{key:r,on:{click:function(t){return e.gotoLessonHandler(e.chapterId,r)}}},[n("div",{staticClass:"lesson-box",class:r==e.lessonId?"has-background-primary has-text-white":""},[n("div",{staticClass:"icon-box ml-3"},[n("b-icon",{attrs:{icon:"play-circle-outline",size:"is-small"}})],1),e._v(" "),n("div",{staticClass:"lesson-title"},[e._v(e._s(t.title))])]),e._v(" "),n("hr",{directives:[{name:"show",rawName:"v-show",value:r!=e.courses[e.courseId].content.chapters[e.chapterId].lessonList.length-1,expression:"\n                      index !=\n                      courses[courseId].content.chapters[chapterId].lessonList\n                        .length -\n                        1\n                    "}],staticClass:"ml-2 mr-2 mt-0 mb-2 file-hr"})])})),0)])])])]),e._v(" "),n("div",{staticClass:"column is-three-quarters-tablet is-full-mobile ml-2 mr-2"},[n("div",{staticClass:"columns is-vcentered is-mobile"},[n("div",{staticClass:"column is-two-thirds"},[n("nav",{staticClass:"breadcrumb",attrs:{"aria-label":"breadcrumbs"}},[n("ul",[n("li",[n("nuxt-link",{attrs:{to:"/my-course"}},[e._v("Home")])],1),e._v(" "),n("li",[n("nuxt-link",{attrs:{to:"/course/"+e.courseId}},[e._v(e._s(e.courses[e.courseId].info.title))])],1),e._v(" "),e._m(1)])])]),e._v(" "),n("div",{staticClass:"column is-one-third"},[n("button",{directives:[{name:"show",rawName:"v-show",value:e.nextLessonButtonVisible,expression:"nextLessonButtonVisible"}],staticClass:"button is-pulled-right is-small",on:{click:e.nextLessonHandler}},[n("span",[e._v("Next Lesson")]),e._v(" "),e._m(2)])])]),e._v(" "),n("div",{staticClass:"block"},[n("div",{staticClass:"title"},[e._v("\n            "+e._s(e.courses[e.courseId].content.chapters[e.chapterId].lessonList[e.lessonId].title)+"\n          ")])]),e._v(" "),e.courses[e.courseId].content.chapters[e.chapterId].lessonList[e.lessonId].content.video?n("video-player",{attrs:{videoSource:e.videoSource}}):e._e(),e._v(" "),e.courses[e.courseId].content.chapters[e.chapterId].lessonList[e.lessonId].content.paragraphs?n("div",{staticClass:"box mb-6"},[n("div",{staticClass:"content",domProps:{innerHTML:e._s(e.courses[e.courseId].content.chapters[e.chapterId].lessonList[e.lessonId].content.paragraphs)}})]):e._e(),e._v(" "),e.courses[e.courseId].content.chapters[e.chapterId].lessonList[e.lessonId].content.pdf?n("div",{staticClass:"box mb-6"},[n("PDFJSViewer",{attrs:{pdffile:e.courses[e.courseId].content.chapters[e.chapterId].lessonList[e.lessonId].content.pdf.url}})],1):e._e()],1)])])])}),r,!1,null,null,null));t.default=I.exports;installComponents(I,{VideoPlayer:n(443).default})}}]);