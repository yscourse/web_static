(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{470:function(e,t,r){},533:function(e,t,r){"use strict";var n=r(470);r.n(n).a},549:function(e,t,r){"use strict";r.r(t);var n=[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"card-header"},[t("p",{staticClass:"card-header-title"},[this._v("Lessons")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",{staticClass:"is-active"},[t("a",{attrs:{href:"#","aria-current":"page"}},[this._v("Lesson")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"icon is-small"},[t("img",{staticStyle:{height:"70%"},attrs:{src:r(441)}})])}],o=(r(35),r(41),r(33),r(63),r(64),r(47),r(34),r(24)),c=(r(36),r(5)),l=r(29);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={name:"lessonPage",middleware:"authenticated",watch:{$route:function(e,t){console.log(e,t),this.updateQuery(e.query.cid,e.query.lid)}},created:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,e.updateQuery(e.$route.query.cid,e.$route.query.lid);case 3:return t.next=5,e.trackVisitorAction({path:e.$route.fullPath});case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{isOpen:0,courseId:null,chapterId:null,lessonId:null,nextLessonButtonVisible:!0,courseFileCategories:[],pageLoaded:!1}},computed:h(h({},Object(l.d)(["courses"])),{},{videoSource:function(){return"https://yscourse.cdn.shfangke.com"+this.courses[this.courseId].content.chapters[this.chapterId].lessonList[this.lessonId].content.video}}),methods:h(h({},Object(l.b)(["getCourseAction","trackVisitorAction"])),{},{nextLessonHandler:function(){this.lessonId<this.courses[this.courseId].content.chapters[this.chapterId].lessonList.length-1?this.$router.push({path:"/course/".concat(this.courseId,"/lesson/wsp"),query:{cid:this.chapterId,lid:this.lessonId+1}}):this.chapterId<this.courses[this.courseId].content.chapters.length-1&&this.$router.push({path:"/course/".concat(this.courseId,"/lesson/wsp"),query:{cid:this.chapterId+1,lid:0}})},gotoLessonHandler:function(e,t){this.$router.push({path:"/course/".concat(this.courseId,"/lesson/wsp"),query:{cid:e,lid:t}})},updateQuery:function(e,t){var r=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.courseId=parseInt(r.$route.params.courseid,10),r.chapterId=parseInt(e,10),r.lessonId=parseInt(t,10),r.courses[r.courseId]){n.next=10;break}return o=r.$buefy.loading.open(),n.next=7,r.getCourseAction(r.courseId);case 7:0==n.sent&&r.$router.push("/my-course"),o.close();case 10:r.pageLoaded=!0,c=r.courses[r.courseId].content.chapters[r.chapterId].lessonList[r.lessonId].content,r.courseFileCategories=[],c.files&&c.files.length>0&&r.courseFileCategories.push({title:"Files",fileList:c.files}),c.excelFiles&&c.excelFiles.length>0&&r.courseFileCategories.push({title:"Excel Files",fileList:c.excelFiles}),c.referenceFiles&&c.referenceFiles.length>0&&r.courseFileCategories.push({title:"Reference Guide",fileList:c.referenceFiles}),e==r.courses[r.courseId].content.chapters.length-1&&t==r.courses[r.courseId].content.chapters[e].lessonList.length-1?r.nextLessonButtonVisible=!1:r.nextLessonButtonVisible=!0;case 17:case"end":return n.stop()}}),n)})))()}})},f=(r(533),r(46)),component=Object(f.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("div",{staticClass:"container mt-4 mb-2 is-unselectable"},[e.pageLoaded?r("div",{staticClass:"columns is-tablet"},[r("div",{staticClass:"column is-one-quarter-tablet is-full-mobile"},[r("div",{staticClass:"block",staticStyle:{position:"sticky",top:"0"}},e._l(e.courseFileCategories,(function(t,n){return r("b-collapse",{key:n,staticClass:"card",attrs:{animation:"slide",open:e.isOpen==n},on:{open:function(t){e.isOpen=n}},scopedSlots:e._u([{key:"trigger",fn:function(n){return r("div",{staticClass:"card-header",attrs:{role:"button"}},[r("p",{staticClass:"card-header-title"},[e._v("\n                "+e._s(t.title)+"\n              ")]),e._v(" "),r("a",{staticClass:"card-header-icon"},[r("b-icon",{attrs:{icon:n.open?"menu-down":"menu-up"}})],1)])}}],null,!0)},[e._v(" "),r("div",{staticClass:"card-content pt-2 pb-2 pr-3"},[r("div",{staticClass:"content"},e._l(t.fileList,(function(n,o){return r("a",{key:o,attrs:{href:n.url,target:"_blank"}},[r("div",{staticClass:"file-box"},[r("div",{staticClass:"icon-box"},[r("b-icon",{attrs:{icon:"download",size:"is-small"}})],1),e._v(" "),r("div",{staticClass:"file-title"},[e._v(e._s(n.name))])]),e._v(" "),r("hr",{directives:[{name:"show",rawName:"v-show",value:o!=t.fileList.length-1,expression:"index != courseFileCategory.fileList.length - 1"}],staticClass:"ml-2 mr-2 mt-2 mb-2 file-hr"})])})),0)])])})),1),e._v(" "),r("div",{staticClass:"block",staticStyle:{position:"sticky",top:"0"}},[r("div",{staticClass:"card mt-3 round-card"},[e._m(0),e._v(" "),r("div",{staticClass:"card-content pt-2 pb-2 pl-0 pr-1"},[r("div",{staticClass:"content lesson-list-box"},e._l(e.courses[e.courseId].content.chapters[e.chapterId].lessonList,(function(t,n){return r("a",{key:n,on:{click:function(t){return e.gotoLessonHandler(e.chapterId,n)}}},[r("div",{staticClass:"lesson-box",class:n==e.lessonId?"has-background-primary has-text-white":""},[r("div",{staticClass:"icon-box ml-3"},[r("b-icon",{attrs:{icon:"play-circle-outline",size:"is-small"}})],1),e._v(" "),r("div",{staticClass:"lesson-title"},[e._v(e._s(t.title))])]),e._v(" "),r("hr",{directives:[{name:"show",rawName:"v-show",value:n!=e.courses[e.courseId].content.chapters[e.chapterId].lessonList.length-1,expression:"\n                      index !=\n                      courses[courseId].content.chapters[chapterId].lessonList\n                        .length -\n                        1\n                    "}],staticClass:"ml-2 mr-2 mt-0 mb-2 file-hr"})])})),0)])])])]),e._v(" "),r("div",{staticClass:"column is-three-quarters-tablet is-full-mobile ml-2 mr-2"},[r("div",{staticClass:"columns is-vcentered is-mobile"},[r("div",{staticClass:"column is-two-thirds"},[r("nav",{staticClass:"breadcrumb",attrs:{"aria-label":"breadcrumbs"}},[r("ul",[r("li",[r("nuxt-link",{attrs:{to:"/my-course"}},[e._v("Home")])],1),e._v(" "),r("li",[r("nuxt-link",{attrs:{to:"/course/"+e.courseId}},[e._v(e._s(e.courses[e.courseId].info.title))])],1),e._v(" "),e._m(1)])])]),e._v(" "),r("div",{staticClass:"column is-one-third"},[r("button",{directives:[{name:"show",rawName:"v-show",value:e.nextLessonButtonVisible,expression:"nextLessonButtonVisible"}],staticClass:"button is-pulled-right is-small",on:{click:e.nextLessonHandler}},[r("span",[e._v("Next Lesson")]),e._v(" "),e._m(2)])])]),e._v(" "),r("div",{staticClass:"block"},[r("div",{staticClass:"title"},[e._v("\n            "+e._s(e.courses[e.courseId].content.chapters[e.chapterId].lessonList[e.lessonId].title)+"\n          ")])]),e._v(" "),e.courses[e.courseId].content.chapters[e.chapterId].lessonList[e.lessonId].content.video?r("video-player",{attrs:{videoSource:e.videoSource}}):e._e(),e._v(" "),e.courses[e.courseId].content.chapters[e.chapterId].lessonList[e.lessonId].content.paragraphs?r("div",{staticClass:"box mb-6",staticStyle:{"padding-left":"2rem"}},[r("div",{staticClass:"content paragraphs",domProps:{innerHTML:e._s(e.courses[e.courseId].content.chapters[e.chapterId].lessonList[e.lessonId].content.paragraphs)}})]):e._e()],1)]):e._e()])])}),n,!1,null,null,null);t.default=component.exports;installComponents(component,{VideoPlayer:r(443).default})}}]);